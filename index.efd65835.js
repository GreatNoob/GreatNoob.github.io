function e(e){return e&&e.__esModule?e.default:e}var t={};let n;!function(e,n){var r={};!function(e){e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,n,r,i,a){for(var s,o,h,l,f,u,c,d,g,p,m,y,b;a>=64;){for(s=n[0],o=n[1],h=n[2],l=n[3],f=n[4],u=n[5],c=n[6],d=n[7],p=0;p<16;p++)m=i+4*p,e[p]=(255&r[m])<<24|(255&r[m+1])<<16|(255&r[m+2])<<8|255&r[m+3];for(p=16;p<64;p++)y=((g=e[p-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,b=((g=e[p-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,e[p]=(y+e[p-7]|0)+(b+e[p-16]|0);for(p=0;p<64;p++)y=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&u^~f&c)|0)+(d+(t[p]+e[p]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&h^o&h)|0,d=c,c=u,u=f,f=l+y|0,l=h,h=o,o=s,s=y+b|0;n[0]+=s,n[1]+=o,n[2]+=h,n[3]+=l,n[4]+=f,n[5]+=u,n[6]+=c,n[7]+=d,i+=64,a-=64}return i}var r=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=n(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,r=this.bufferLength,i=t/536870912|0,a=t<<3,s=t%64<56?64:128;this.buffer[r]=128;for(var o=r+1;o<s-8;o++)this.buffer[o]=0;this.buffer[s-8]=i>>>24&255,this.buffer[s-7]=i>>>16&255,this.buffer[s-6]=i>>>8&255,this.buffer[s-5]=i>>>0&255,this.buffer[s-4]=a>>>24&255,this.buffer[s-3]=a>>>16&255,this.buffer[s-2]=a>>>8&255,this.buffer[s-1]=a>>>0&255,n(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(o=0;o<8;o++)e[4*o+0]=this.state[o]>>>24&255,e[4*o+1]=this.state[o]>>>16&255,e[4*o+2]=this.state[o]>>>8&255,e[4*o+3]=this.state[o]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=r;var i=function(){function e(e){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new r).update(e).finish(t).clean();else for(var n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;this.inner.update(t);for(n=0;n<t.length;n++)t[n]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function a(e){var t=(new r).update(e),n=t.digest();return t.clean(),n}function s(e,t){var n=new i(e).update(t),r=n.digest();return n.clean(),r}function o(e,t,n,r){var i=r[0];if(0===i)throw new Error("hkdf: cannot expand more");t.reset(),i>1&&t.update(e),n&&t.update(n),t.update(r),t.finish(e),r[0]++}e.HMAC=i,e.hash=a,e.default=a,e.hmac=s;var h=new Uint8Array(e.digestLength);function l(e,t,n,r){void 0===t&&(t=h),void 0===r&&(r=32);for(var a=new Uint8Array([1]),l=s(t,e),f=new i(l),u=new Uint8Array(f.digestLength),c=u.length,d=new Uint8Array(r),g=0;g<r;g++)c===u.length&&(o(u,f,n,a),c=0),d[g]=u[c++];return f.clean(),u.fill(0),a.fill(0),d}function f(e,t,n,r){for(var a=new i(e),s=a.digestLength,o=new Uint8Array(4),h=new Uint8Array(s),l=new Uint8Array(s),f=new Uint8Array(r),u=0;u*s<r;u++){var c=u+1;o[0]=c>>>24&255,o[1]=c>>>16&255,o[2]=c>>>8&255,o[3]=c>>>0&255,a.reset(),a.update(t),a.update(o),a.finish(l);for(var d=0;d<s;d++)h[d]=l[d];for(d=2;d<=n;d++){a.reset(),a.update(l).finish(l);for(var g=0;g<s;g++)h[g]^=l[g]}for(d=0;d<s&&u*s+d<r;d++)f[u*s+d]=h[d]}for(u=0;u<s;u++)h[u]=l[u]=0;for(u=0;u<4;u++)o[u]=0;return a.clean(),f}e.hkdf=l,e.pbkdf2=f}(r);var i=r.default;for(var a in r)i[a]=r[a];"object"==typeof t?t=i:"function"==typeof define&&define.amd?define((function(){return i})):e.sha256=i}(t),function(e){e[e.ChatLog=0]="ChatLog",e[e.Territory=1]="Territory",e[e.ChangePrimaryPlayer=2]="ChangePrimaryPlayer",e[e.AddCombatant=3]="AddCombatant",e[e.RemoveCombatant=4]="RemoveCombatant",e[e.PartyList=11]="PartyList",e[e.PlayerStats=12]="PlayerStats",e[e.StartsCasting=20]="StartsCasting",e[e.ActionEffect=21]="ActionEffect",e[e.AOEActionEffect=22]="AOEActionEffect",e[e.CancelAction=23]="CancelAction",e[e.DoTHoT=24]="DoTHoT",e[e.Death=25]="Death",e[e.StatusAdd=26]="StatusAdd",e[e.TargetIcon=27]="TargetIcon",e[e.WaymarkMarker=28]="WaymarkMarker",e[e.SignMarker=29]="SignMarker",e[e.StatusRemove=30]="StatusRemove",e[e.Gauge=31]="Gauge",e[e.World=32]="World",e[e.Director=33]="Director",e[e.NameToggle=34]="NameToggle",e[e.Tether=35]="Tether",e[e.LimitBreak=36]="LimitBreak",e[e.EffectResult=37]="EffectResult",e[e.StatusList=38]="StatusList",e[e.UpdateHp=39]="UpdateHp",e[e.ChangeMap=40]="ChangeMap",e[e.SystemLogMessage=41]="SystemLogMessage",e[e.StatusList3=42]="StatusList3",e[e.Settings=249]="Settings",e[e.Process=250]="Process",e[e.Debug=251]="Debug",e[e.PacketDump=252]="PacketDump",e[e.Version=253]="Version",e[e.Error=254]="Error"}(n||(n={}));let r=[3145776,3211312,3276848,3342384,3407920,3473456,3538992,3604528,3670064,3735600,6357040,6422576,6488112,6553648,6619184,6684720,3145777,3211313,3276849,3342385,3407921,3473457,3538993,3604529,3670065,3735601,6357041,6422577,6488113,6553649,6619185,6684721,3145778,3211314,3276850,3342386,3407922,3473458,3538994,3604530,3670066,3735602,6357042,6422578,6488114,6553650,6619186,6684722,3145779,3211315,3276851,3342387,3407923,3473459,3538995,3604531,3670067,3735603,6357043,6422579,6488115,6553651,6619187,6684723,3145780,3211316,3276852,3342388,3407924,3473460,3538996,3604532,3670068,3735604,6357044,6422580,6488116,6553652,6619188,6684724,3145781,3211317,3276853,3342389,3407925,3473461,3538997,3604533,3670069,3735605,6357045,6422581,6488117,6553653,6619189,6684725,3145782,3211318,3276854,3342390,3407926,3473462,3538998,3604534,3670070,3735606,6357046,6422582,6488118,6553654,6619190,6684726,3145783,3211319,3276855,3342391,3407927,3473463,3538999,3604535,3670071,3735607,6357047,6422583,6488119,6553655,6619191,6684727,3145784,3211320,3276856,3342392,3407928,3473464,3539e3,3604536,3670072,3735608,6357048,6422584,6488120,6553656,6619192,6684728,3145785,3211321,3276857,3342393,3407929,3473465,3539001,3604537,3670073,3735609,6357049,6422585,6488121,6553657,6619193,6684729,3145825,3211361,3276897,3342433,3407969,3473505,3539041,3604577,3670113,3735649,6357089,6422625,6488161,6553697,6619233,6684769,3145826,3211362,3276898,3342434,3407970,3473506,3539042,3604578,3670114,3735650,6357090,6422626,6488162,6553698,6619234,6684770,3145827,3211363,3276899,3342435,3407971,3473507,3539043,3604579,3670115,3735651,6357091,6422627,6488163,6553699,6619235,6684771,3145828,3211364,3276900,3342436,3407972,3473508,3539044,3604580,3670116,3735652,6357092,6422628,6488164,6553700,6619236,6684772,3145829,3211365,3276901,3342437,3407973,3473509,3539045,3604581,3670117,3735653,6357093,6422629,6488165,6553701,6619237,6684773,3145830,3211366,3276902,3342438,3407974,3473510,3539046,3604582,3670118,3735654,6357094,6422630,6488166,6553702,6619238,6684774];function i(n){return function(e){let t=new Uint8Array(16);for(let n=0;n<t.length/2;n++){let i=r[e[n]];t[2*n]=i,t[2*n+1]=i>>16}return t}(e(t)(n))}var a={};a=(()=>{const e="object"==typeof window?window:a;e.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let t=null,n=!1;const r=e=>{try{e()}catch(e){}},i=e.WebStreamsPolyfill||{},s=e.isSecureContext;let o=/constructor/i.test(e.HTMLElement)||!!e.safari||!!e.WebKitPoint;const h=s||"MozAppearance"in document.documentElement.style?"iframe":"navigate",l={createWriteStream:d,WritableStream:e.WritableStream||i.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function f(e){if(!e)throw new Error("meh");const t=document.createElement("iframe");return t.hidden=!0,t.src=e,t.loaded=!1,t.name="iframe",t.isIframe=!0,t.postMessage=(...e)=>t.contentWindow.postMessage(...e),t.addEventListener("load",(()=>{t.loaded=!0}),{once:!0}),document.body.appendChild(t),t}function u(t){const n="width=200,height=100",r=document.createDocumentFragment(),i={frame:e.open(t,"popup",n),loaded:!1,isIframe:!1,isPopup:!0,remove(){i.frame.close()},addEventListener(...e){r.addEventListener(...e)},dispatchEvent(...e){r.dispatchEvent(...e)},removeEventListener(...e){r.removeEventListener(...e)},postMessage(...e){i.frame.postMessage(...e)}},a=t=>{t.source===i.frame&&(i.loaded=!0,e.removeEventListener("message",a),i.dispatchEvent(new Event("load")))};return e.addEventListener("message",a),i}try{new Response(new ReadableStream),s&&!("serviceWorker"in navigator)&&(o=!0)}catch(e){o=!0}function c(){t||(t=s?f(l.mitm):u(l.mitm))}function d(e,r,i){let a={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},s=0,u=null,d=null,g=null;if(Number.isFinite(r)?([i,r]=[r,i],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),a.size=i,a.writableStrategy=r):r&&r.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),a.size=i,a.writableStrategy=r):a=r||{},!o){c(),d=new MessageChannel,e=encodeURIComponent(e.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const r={transferringReadable:n,pathname:a.pathname||Math.random().toString().slice(-6)+"/"+e,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+e}};a.size&&(r.headers["Content-Length"]=a.size);const i=[r,"*",[d.port2]];if(n){const e="iframe"===h?void 0:{transform(e,t){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");s+=e.length,t.enqueue(e),u&&(location.href=u,u=null)},flush(){u&&(location.href=u)}};g=new l.TransformStream(e,a.writableStrategy,a.readableStrategy);const t=g.readable;d.port1.postMessage({readableStream:t},[t])}d.port1.onmessage=e=>{e.data.download?"navigate"===h?(t.remove(),t=null,s?location.href=e.data.download:u=e.data.download):(t.isPopup&&(t.remove(),t=null,"iframe"===h&&f(l.mitm)),f(e.data.download)):e.data.abort&&(p=[],d.port1.postMessage("abort"),d.port1.onmessage=null,d.port1.close(),d.port2.close(),d=null)},t.loaded?t.postMessage(...i):t.addEventListener("load",(()=>{t.postMessage(...i)}),{once:!0})}let p=[];return!o&&g&&g.writable||new l.WritableStream({write(e){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");o?p.push(e):(d.port1.postMessage(e),s+=e.length,u&&(location.href=u,u=null))},close(){if(o){const t=new Blob(p,{type:"application/octet-stream; charset=utf-8"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click()}else d.port1.postMessage("end")},abort(){p=[],d.port1.postMessage("abort"),d.port1.onmessage=null,d.port1.close(),d.port2.close(),d=null}},a.writableStrategy)}return r((()=>{const{readable:e}=new TransformStream,t=new MessageChannel;t.port1.postMessage(e,[e]),t.port1.close(),t.port2.close(),n=!0,Object.defineProperty(l,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})})),l})();const s=document.getElementById("file-selector"),o=document.getElementById("parseBar"),h=document.getElementById("parseProgress"),l=document.getElementById("downloadFile");function f(){!function(){if(null==h)return;h.style.display="none"}(),null!=l&&(l.style.display="none")}function u(e){let t=0,n=e.length;for(;t<n&&32==e[t];)t++;for(;n>t&&32==e[n-1];)n--;return e.slice(t,n)}function c(t){const r=e(a).createWriteStream(t.name),s=t.stream(),l=t.size;let f=0;const c=r.getWriter(),d=s.getReader();let g=0,p=Uint8Array.from([]),m=0;const y=()=>{let e=Uint8Array.from([]);g=0,d.read().then((t=>{if(!t.done){var r;for(f+=t.value.length,(r=f/l)>1||r<0||null!=o&&null!=h&&(o.style.width=100*r+"%",o.innerHTML=100*r+"%");g<=t.value.length;){const r=t.value.indexOf(10,g);if(-1==r){p=new Uint8Array([...p,...t.value.slice(g,t.value.length)]);break}p.length>0?(e=new Uint8Array([...p,...t.value.slice(g,r)]),p=Uint8Array.from([])):e=t.value.slice(g,r);let a=u(e);if(a.length<=0)continue;let s=a.indexOf(124),o=a.lastIndexOf(124);const h=new TextDecoder;let l=Number(h.decode(a.slice(0,s))),f=a.slice(0,o);l!=n.Version&&l!=n.Territory||(m=0),++m;const d=new TextEncoder,y=i(new Uint8Array([...f,124,...d.encode(m.toString())]));c.write(new Uint8Array([...f,124,...y,10])),g=r+1}return c.ready.then(y)}c.close()}))};y()}function d(e){null!=h&&(h.style.display="block"),c(e.target.files[0])}null!=s?(s.addEventListener("change",(e=>{d(e)})),null!=l?l.addEventListener("click",f):console.log("download_button is null")):console.log("fileSelector is null");
//# sourceMappingURL=index.efd65835.js.map
